<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
	<div id="root">
		<counter ref="one" @change='handleChange'></counter>
		<counter ref="two" @change='handleChange'></counter>
		<div>{{total}}</div>
	</div>
	<script>
	 	Vue.component('counter',{
	 		template:'<div @click="handleClick">{{num}}</div>',
	 		data:function  () {
	 			return {
	 				num:0
	 			}	
	 		},
	 		methods:{
	 			handleClick:function  () {
	 				this.num ++;
	 				this.$emit('change');	//这里emit前要加$
	 			}
	 		}
	 	})
		var vm = new Vue({
			el:"#root",
			data:{
				total:0
			},
			methods:{
				handleChange:function () {
					this.total = this.$refs.one.num + this.$refs.two.num;
				}
			}
		})
	</script>
</body>
</html>